library(tidyverse)
library(googlesheets4)
data <- read_sheet("https://docs.google.com/spreadsheets/d/1-d5ca4A9eL5cDq0Y2zFuN6OiYeAoe8m4LcQCQbpYV74/edit?usp=sharing", col_types = 'ddcccccddddccDcccccc')
data
params = list()
params$path_to_coordinates = "https://docs.google.com/spreadsheets/d/1-d5ca4A9eL5cDq0Y2zFuN6OiYeAoe8m4LcQCQbpYV74/edit?usp=sharing"
params$col_types = 'ddcccccddddccDcccccc'
gs4_auth(email="sofia.zorrilla95@gmail.com")
library(flextable)
library(flextable)
library(googlesheets4)
library(tidyverse)
library(knitr)
gs4_auth(email="sofia.zorrilla95@gmail.com")
info_etiquetas <- read_sheet(params$path_to_coordinates, sheet = 1, col_types = params$col_types) #'dddccccccccccddddcccDc'
info_etiquetas
params$path_to_coordinates
params$col_types
gs4_auth(email="sofia.zorrilla95@gmail.com")
info_etiquetas <- read_sheet(params$path_to_coordinates, sheet = 1, col_types = params$col_types) #'dddccccccccccddddcccDc'
head(info_etiquetas)
data <- read_sheet("https://docs.google.com/spreadsheets/d/1-d5ca4A9eL5cDq0Y2zFuN6OiYeAoe8m4LcQCQbpYV74/edit?usp=sharing", col_types = 'ddcccccddddccDcccccc')
data
select(data,id_individuo,ejemplares)
ind_ej <- select(data,id_individuo,ejemplares)
reps <- c()
for(i in 1:nrow(info_etiquetas)){
r <- rep(as.numeric(rownames(info_etiquetas)[i]),info_etiquetas[[i,"ejemplares"]])
reps <- c(reps,r)
}
reps
reps <- c()
for(i in 1:nrow(ind_ej)){
r <- rep(as.numeric(rownames(ind_ej)[i]),ind_ej[[i,"ejemplares"]])
reps <- c(reps,r)
}
reps
ind_ej[reps,]
ind_ej[reps,] %>% select(-ejemplares)
inds <- ind_ej[reps,] %>% select(-ejemplares)
write_sheet(ss = "https://docs.google.com/spreadsheets/d/1-d5ca4A9eL5cDq0Y2zFuN6OiYeAoe8m4LcQCQbpYV74/edit?usp=sharing",inds, sheet = "individuos_ejemplares")
